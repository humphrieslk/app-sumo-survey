extends layout

block body

  div.container-fluid(ng-controller='ViewResponsesCtrl', ng-cloak)
      div.row.admin-table
        div.col-xs-10.col-xs-offset-1.col-md-6.col-md-offset-3
            div(ng-show="questions")
                table.borderless
                    thead
                        tr
                            td
                                button.expand-all(ng-click="toggleAll()") {{toggleText}}
                        tr
                            td Question
                    tbody(ng-repeat="question in questions")
                        tr.questionRow(ng-class="{expandedQuestion: question.expanded}")
                                td.question(ng-click="question.expanded = !question.expanded; getAnswers(question);") 
                                        {{question.question_body}} 
                            tr(ng-show="question.expanded")
                                td
                                    table.responses
                                        tr(ng-repeat="answer in question.answers")
                                            td
                                                {{answer.answer_body}} 
                                            td
                                                {{answer.count}}
            div(ng-show="!questions")
                    div.no-questions
                        {{noQuestionText}}

  script(src='js/lib/angular/angular.js')
  script(src='js/app.js')
  script(src='js/services.js')
  script(src='js/controllers.js')
  script(src='js/filters.js')
  script(src='js/directives.js')
  script(src='js/lib/angular/angular-route.js')